// =============================================================================
// BERK Standard Library - Audio Module Demo
// Ses iÅŸleme ve oynatma
// =============================================================================

kullan std::audio

yazdÄ±r("=== BERK Audio Demo ===\n")

// -----------------------------------------------------------------------------
// Ses Oynatma
// -----------------------------------------------------------------------------

yazdÄ±r("ğŸ”Š Ses Oynatma:")
yazdÄ±r("-" * 40)

yazdÄ±r("""
kullan std::audio

// Ses dosyasÄ± yÃ¼kle
olsun ses = audio::load("music.mp3")
yazdÄ±r("SÃ¼re: {:.2f} saniye", audio::duration(ses))
yazdÄ±r("Kanal: {}", audio::channels(ses))
yazdÄ±r("Sample rate: {} Hz", audio::sample_rate(ses))

// Oynat
audio::play(ses)

// Kontroller
bekle(2000)
audio::pause(ses)
yazdÄ±r("DuraklatÄ±ldÄ±")

bekle(1000)
audio::resume(ses)
yazdÄ±r("Devam ediyor")

// Ses seviyesi (0.0 - 1.0)
audio::set_volume(ses, 0.5)

// Pozisyon atla
audio::seek(ses, 30.0)  // 30. saniyeye

// Durdur
audio::stop(ses)
""")

// -----------------------------------------------------------------------------
// Ses Sentezi
// -----------------------------------------------------------------------------

yazdÄ±r("\nğŸ¹ Ses Sentezi:")
yazdÄ±r("-" * 40)

yazdÄ±r("""
// SinÃ¼s dalgasÄ± oluÅŸtur
olsun sin_dalga = audio::generate_sine(440.0, 1.0)  // 440Hz (La), 1 saniye
audio::play(sin_dalga)

// Kare dalga
olsun kare_dalga = audio::generate_square(440.0, 1.0)

// Testere diÅŸi dalga
olsun testere = audio::generate_sawtooth(440.0, 1.0)

// Beyaz gÃ¼rÃ¼ltÃ¼
olsun gurultu = audio::generate_noise(1.0)

// Notalar Ã§al
olsun notalar = [
    ["C4", 0.5],   // Do
    ["D4", 0.5],   // Re
    ["E4", 0.5],   // Mi
    ["F4", 0.5],   // Fa
    ["G4", 0.5],   // Sol
    ["A4", 0.5],   // La
    ["B4", 0.5],   // Si
    ["C5", 1.0]    // Do (Ã¼st oktav)
]

her [nota, sure] iÃ§in notalar yap
    olsun freq = audio::note_to_freq(nota)
    olsun ses = audio::generate_sine(freq, sure)
    audio::play_sync(ses)  // Bitene kadar bekle
son
""")

// -----------------------------------------------------------------------------
// Ses KaydÄ±
// -----------------------------------------------------------------------------

yazdÄ±r("\nğŸ¤ Ses KaydÄ±:")
yazdÄ±r("-" * 40)

yazdÄ±r("""
// Mikrofon listesi
olsun mikrofonlar = audio::list_input_devices()
her mic iÃ§in mikrofonlar yap
    yazdÄ±r("  {}: {}", mic.id, mic.name)
son

// KayÄ±t baÅŸlat
olsun kayit = audio::start_recording()
yazdÄ±r("KayÄ±t baÅŸladÄ±...")

bekle(5000)  // 5 saniye kaydet

// KayÄ±t durdur
olsun buffer = audio::stop_recording(kayit)
yazdÄ±r("KayÄ±t tamamlandÄ±: {} sample", buffer.uzunluk())

// Dosyaya kaydet
audio::save(buffer, "kayit.wav")
yazdÄ±r("Kaydedildi: kayit.wav")
""")

// -----------------------------------------------------------------------------
// Ses Efektleri
// -----------------------------------------------------------------------------

yazdÄ±r("\nğŸ›ï¸  Ses Efektleri:")
yazdÄ±r("-" * 40)

yazdÄ±r("""
olsun ses = audio::load("voice.wav")

// Ses yÃ¼kselt/alÃ§alt (dB)
olsun yuksek = audio::amplify(ses, 6.0)    // +6 dB
olsun alcak = audio::amplify(ses, -6.0)   // -6 dB

// Fade in/out
olsun fade_in = audio::fade_in(ses, 1.0)   // 1 saniye fade in
olsun fade_out = audio::fade_out(ses, 1.0)

// HÄ±z deÄŸiÅŸtir (pitch koruyarak)
olsun hizli = audio::time_stretch(ses, 1.5)   // %50 hÄ±zlÄ±
olsun yavas = audio::time_stretch(ses, 0.75)  // %25 yavaÅŸ

// Pitch deÄŸiÅŸtir (hÄ±z koruyarak)
olsun tiz = audio::pitch_shift(ses, 4)    // +4 yarÄ±m ton
olsun pes = audio::pitch_shift(ses, -4)   // -4 yarÄ±m ton

// Reverb
olsun reverb = audio::add_reverb(ses, 0.5)  // 0.5 = oda boyutu

// Echo
olsun echo = audio::add_echo(ses, 0.3, 0.5)  // 0.3s gecikme, 0.5 feedback

// Normalize
olsun normalize = audio::normalize(ses)

// Mono'ya Ã§evir
olsun mono = audio::to_mono(ses)

// Stereo'ya Ã§evir
olsun stereo = audio::to_stereo(mono)
""")

// -----------------------------------------------------------------------------
// Ses Analizi
// -----------------------------------------------------------------------------

yazdÄ±r("\nğŸ“Š Ses Analizi:")
yazdÄ±r("-" * 40)

yazdÄ±r("""
olsun ses = audio::load("music.mp3")

// RMS (ses seviyesi)
olsun rms = audio::rms(ses)
yazdÄ±r("RMS: {:.4f}", rms)

// Peak
olsun peak = audio::peak(ses)
yazdÄ±r("Peak: {:.4f}", peak)

// FFT (frekans analizi)
olsun spektrum = audio::fft(ses)
yazdÄ±r("BaskÄ±n frekans: {} Hz", spektrum.dominant_frequency)

// Beat tespiti
olsun bpm = audio::detect_bpm(ses)
yazdÄ±r("BPM: {:.1f}", bpm)

// Sessizlik tespiti
olsun sessiz_bolumler = audio::detect_silence(ses, -40.0)  // -40 dB eÅŸik
yazdÄ±r("Sessiz bÃ¶lÃ¼m sayÄ±sÄ±: {}", sessiz_bolumler.uzunluk())
""")

// -----------------------------------------------------------------------------
// Ã‡oklu Ses
// -----------------------------------------------------------------------------

yazdÄ±r("\nğŸ¼ Ã‡oklu Ses MiksajÄ±:")
yazdÄ±r("-" * 40)

yazdÄ±r("""
// Mixer oluÅŸtur
olsun mixer = audio::create_mixer()

// Kanallar ekle
olsun kanal1 = audio::mixer_add_channel(mixer, "drums")
olsun kanal2 = audio::mixer_add_channel(mixer, "bass")
olsun kanal3 = audio::mixer_add_channel(mixer, "melody")

// Her kanala ses yÃ¼kle
audio::channel_load(kanal1, "drums.wav")
audio::channel_load(kanal2, "bass.wav")
audio::channel_load(kanal3, "melody.wav")

// Kanal seviyeleri
audio::channel_volume(kanal1, 0.8)
audio::channel_volume(kanal2, 0.7)
audio::channel_volume(kanal3, 0.6)

// Pan (sol-saÄŸ)
audio::channel_pan(kanal1, 0.0)    // Orta
audio::channel_pan(kanal2, -0.3)   // Biraz sol
audio::channel_pan(kanal3, 0.3)    // Biraz saÄŸ

// Hepsini Ã§al
audio::mixer_play_all(mixer)

// Master volume
audio::mixer_master_volume(mixer, 0.9)

// Mix'i dosyaya kaydet
audio::mixer_export(mixer, "final_mix.wav")
""")

yazdÄ±r("\nâœ… Audio demo tamamlandÄ±!")
